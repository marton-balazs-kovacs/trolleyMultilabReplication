---
title: "supplementary_materials"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{supplementary_materials}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
# Load packages
library(trolleyMultilabReplication)
library(tidyverse)
library(countrycode)

# Prepare datafiles for the analysis
# Merge collectivism data with trolley responses
trolley <- 
  trolley %>% 
  left_join(., cultural_distance, by = "country3")
# TODO: Why is this needed?

# Save data for each study separately
study1a <- filter(trolley, include_study1a)
study1b <- filter(trolley, include_study1b)
study2a <- filter(trolley, include_study2a)
study2b <- filter(trolley, include_study2b)

# Save trolley data where all participants whether they were familiar or not are included
# Every other exclusion criteria is applied
# TODO: Rename the object
trolley_proc <- filter(trolley, include_allstudy_withoutfamiliarity)

# Save data where all exclusion criteria is applied
# TODO: Rename the object, use the include_noproblem variable
trolley_familiar <- filter(trolley_proc, !include_nofamiliarity)

# Calculate individualism and collectivism overall scores for each respondent
trolley_proc <- add_ind_col_scale(trolley_proc)
```

```{r}

```

